---
name: ""
overview: ""
todos: []
---

# EasyTracer GUI é‡æ„è®¡åˆ’

## æ¶æ„è®¾è®¡

é‡‡ç”¨ **åˆ†å±‚æ¶æ„ + MVP æ¨¡å¼**ï¼Œç¡®ä¿ UI ä¸ä¸šåŠ¡é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼š

```mermaid
graph TB
    subgraph ui [UI Layer - Flet Views]
        MainView[MainView]
        SystraceView[SystracePanel]
        PerfettoView[PerfettoPanel]
        SimpleperfView[SimpleperfPanel]
        TraceviewView[TraceviewPanel]
        ComboView[ComboPanel]
        SettingsView[SettingsPanel]
        AboutView[AboutPanel]
    end
    
    subgraph presenter [Presenter Layer]
        SystracePresenter[SystracePresenter]
        PerfettoPresenter[PerfettoPresenter]
        SimpleperfPresenter[SimpleperfPresenter]
        TraceviewPresenter[TraceviewPresenter]
        ComboPresenter[ComboPresenter]
    end
    
    subgraph service [Service Layer]
        CaptureService[CaptureService]
        DeviceService[DeviceService]
        ConfigService[ConfigService]
    end
    
    subgraph infra [Infrastructure Layer]
        AdbAdapter[AdbAdapter]
        SystraceAdapter[SystraceAdapter]
        SimpleperfAdapter[SimpleperfAdapter]
        PerfettoAdapter[PerfettoAdapter]
    end
    
    subgraph lib [External Tools - lib/]
        systrace_lib[systrace/]
        simpleperf_lib[simpleperf/]
        perfetto_lib[perfetto/]
    end
    
    ui --> presenter
    presenter --> service
    service --> infra
    infra --> lib
```

## é¡¹ç›®ç»“æ„

```javascript
EasyTracer/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ easytracer/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ main.py                 # åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ app.py                  # Flet App é…ç½®
â”‚       â”‚
â”‚       â”œâ”€â”€ ui/                     # UI å±‚ (Flet Views)
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ main_view.py        # ä¸»çª—å£å¸ƒå±€ (ä¾§è¾¹æ +å†…å®¹åŒº)
â”‚       â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ device_selector.py
â”‚       â”‚   â”‚   â”œâ”€â”€ capture_button.py
â”‚       â”‚   â”‚   â””â”€â”€ log_panel.py
â”‚       â”‚   â””â”€â”€ panels/             # åŠŸèƒ½é¢æ¿
â”‚       â”‚       â”œâ”€â”€ systrace_panel.py
â”‚       â”‚       â”œâ”€â”€ perfetto_panel.py
â”‚       â”‚       â”œâ”€â”€ simpleperf_panel.py
â”‚       â”‚       â”œâ”€â”€ traceview_panel.py
â”‚       â”‚       â”œâ”€â”€ combo_panel.py      # ç»„åˆæŠ“å–é¢æ¿
â”‚       â”‚       â”œâ”€â”€ settings_panel.py
â”‚       â”‚       â””â”€â”€ about_panel.py      # å…³äºé¡µé¢
â”‚       â”‚
â”‚       â”œâ”€â”€ presenters/             # Presenter å±‚
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ base_presenter.py
â”‚       â”‚   â”œâ”€â”€ systrace_presenter.py
â”‚       â”‚   â”œâ”€â”€ perfetto_presenter.py
â”‚       â”‚   â”œâ”€â”€ simpleperf_presenter.py
â”‚       â”‚   â”œâ”€â”€ traceview_presenter.py
â”‚       â”‚   â””â”€â”€ combo_presenter.py      # ç»„åˆæŠ“å– Presenter
â”‚       â”‚
â”‚       â”œâ”€â”€ services/               # Service å±‚ (ä¸šåŠ¡é€»è¾‘)
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ device_service.py   # è®¾å¤‡ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ capture_service.py  # æŠ“å–æœåŠ¡
â”‚       â”‚   â””â”€â”€ config_service.py   # é…ç½®ç®¡ç†
â”‚       â”‚
â”‚       â”œâ”€â”€ infrastructure/         # åŸºç¡€è®¾æ–½å±‚
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ adb_adapter.py      # ADB å‘½ä»¤å°è£…
â”‚       â”‚   â”œâ”€â”€ systrace_adapter.py # Systrace è°ƒç”¨
â”‚       â”‚   â”œâ”€â”€ simpleperf_adapter.py
â”‚       â”‚   â””â”€â”€ perfetto_adapter.py
â”‚       â”‚
â”‚       â””â”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ device.py
â”‚           â”œâ”€â”€ capture_config.py
â”‚           â””â”€â”€ capture_result.py
â”‚
â”œâ”€â”€ lib/                        # å¤–éƒ¨å·¥å…· (éš”ç¦»ç›®å½•ï¼Œå¯ç‹¬ç«‹æ›´æ–°)
â”‚   â”œâ”€â”€ systrace/               # Google systrace (Python 3 ç‰ˆæœ¬)
â”‚   â”œâ”€â”€ simpleperf/             # Google simpleperf
â”‚   â””â”€â”€ perfetto/               # Perfetto å·¥å…·
â”‚
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ default_config.json
â”‚   â””â”€â”€ perfetto_cfg.pbtx
â”‚
â”œâ”€â”€ output/                     # è¾“å‡ºç›®å½•
â”œâ”€â”€ tests/                      # æµ‹è¯•
â”œâ”€â”€ pyproject.toml              # uv ä¾èµ–ç®¡ç†
â”œâ”€â”€ uv.lock                     # uv lock æ–‡ä»¶
â””â”€â”€ README.md
```

## æŠ€æœ¯é€‰å‹

| ç»„ä»¶ | é€‰å‹ | è¯´æ˜ ||------|------|------|| GUI æ¡†æ¶ | **Flet 0.27+** | Material Design 3, å“åº”å¼ || Python | **3.13** | æŒ‰è¦æ±‚ || ä¾èµ–ç®¡ç† | **uv** | ç°ä»£ Python åŒ…ç®¡ç†å™¨ || æ‰“åŒ…å·¥å…· | **PyInstaller** | Flet å®˜æ–¹æ¨èï¼Œç›®å½•æ‰“åŒ… || æµ‹è¯• | **pytest** | TDD é©±åŠ¨ || ç±»å‹æ£€æŸ¥ | **mypy** | ç±»å‹å®‰å…¨ || ä»£ç è§„èŒƒ | **ruff** | Google Python Style |

## UI è®¾è®¡

### æ•´ä½“å¸ƒå±€ï¼šä¾§è¾¹æ å¯¼èˆª + å†…å®¹é¢æ¿

```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EasyTracer - Android Performance Tracer                    _ â–¡ âœ•    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  ğŸ”Œ è®¾å¤‡     â”‚  â”‚  Device: [ Pixel 7 Pro (ABC123)        â–¼] [ğŸ”„]  â”‚   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  æŠ“å–åè¾“å‡º: â˜‘Logcat â˜‘Packages â˜PS â˜Meminfo     â”‚   â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  ğŸ“Š Systrace â”‚                                                         â”‚
â”‚              â”‚  â”Œâ”€ å†…å®¹é¢æ¿åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  ğŸ”¥ Perfetto â”‚  â”‚                                                   â”‚  â”‚
â”‚              â”‚  â”‚  (æ ¹æ®ä¾§è¾¹æ é€‰æ‹©æ˜¾ç¤ºä¸åŒçš„é…ç½®é¢æ¿)                â”‚  â”‚
â”‚  ğŸ“ˆ Simpleperfâ”‚  â”‚                                                   â”‚  â”‚
â”‚              â”‚  â”‚                                                   â”‚  â”‚
â”‚  ğŸ”¬ Traceviewâ”‚  â”‚                                                   â”‚  â”‚
â”‚              â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  ğŸ¯ ç»„åˆæŠ“å– â”‚                                                         â”‚
â”‚              â”‚  â”Œâ”€ Output Log â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚ [10:30:15] Capturing systrace...                  â”‚ â”‚
â”‚  âš™ï¸ è®¾ç½®     â”‚  â”‚ [10:30:25] Trace saved to output/xxx.html         â”‚ â”‚
â”‚  â„¹ï¸ å…³äº     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾§è¾¹æ å¯¼èˆªé¡¹

| å¯¼èˆªé¡¹ | åŠŸèƒ½è¯´æ˜ |

|--------|---------|

| ğŸ”Œ è®¾å¤‡ | è®¾å¤‡è¿æ¥çŠ¶æ€ï¼Œç‚¹å‡»åˆ·æ–°è®¾å¤‡åˆ—è¡¨ |

| ğŸ“Š Systrace | Systrace æŠ“å– (æ ‡å‡†Atrace + è®¾å¤‡Ftrace) |

| ğŸ”¥ Perfetto | Perfetto trace æŠ“å– (Normal/Longï¼ŒUIæ„å»ºé…ç½®) |

| ğŸ“ˆ Simpleperf | æ€§èƒ½é‡‡æ · + ç«ç„°å›¾ç”Ÿæˆ |

| ğŸ”¬ Traceview | æ–¹æ³•è·Ÿè¸ªæŠ“å– |

| ğŸ¯ **ç»„åˆæŠ“å–** | å¤šå·¥å…·åŒæ—¶æŠ“å–é…ç½® |

| âš™ï¸ è®¾ç½® | å…¨å±€é…ç½®ã€è¾“å‡ºç›®å½•ã€ADBè·¯å¾„ç­‰ |

| â„¹ï¸ å…³äº | å·¥å…·ä»‹ç»ã€ç‰ˆæœ¬ã€GitHub åœ°å€ |

### ä¸»ç•Œé¢é¡¶éƒ¨é€šç”¨åŒºåŸŸ

æŠ“å–åé™„åŠ è¾“å‡ºé€‰é¡¹ç»Ÿä¸€æ”¾åœ¨ä¸»ç•Œé¢é¡¶éƒ¨ï¼Œæ‰€æœ‰å·¥å…·å…±äº«ï¼š

```javascript
â”Œâ”€ ä¸»ç•Œé¢é¡¶éƒ¨é€šç”¨åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  Device: [ Pixel 7 Pro (ABC123)          â–¼] [ğŸ”„]                            â”‚
â”‚                                                                              â”‚
â”‚  æŠ“å–åé™„åŠ è¾“å‡º:  â˜‘Logcat  â˜‘Packages  â˜PS  â˜Meminfo                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Systrace é¢æ¿è®¾è®¡

```javascript
â”Œâ”€ Systrace Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  â”Œâ”€ åŸºç¡€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Duration: [ 5s â–¼]                         Buffer: [ 10240 ] KB        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ ç›®æ ‡åº”ç”¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Target: [ æ‰€æœ‰åº”ç”¨ (*)                                            â–¼] â”‚ â”‚
â”‚  â”‚          (æ‰€æœ‰åº”ç”¨/å½“å‰å‰å°/Launcher/SystemUI/Settings/è‡ªå®šä¹‰...)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ Trace Categories â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å·²é€‰: 13 â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  [ æ ‡å‡† Atrace ]  [ è®¾å¤‡ Ftrace ]                      [ğŸ”„ æ£€æµ‹è®¾å¤‡]  â”‚ â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                      â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  é¢„è®¾: [æœ€å°å¯ç”¨] [å›¾å½¢åˆ†æ] [ç³»ç»Ÿåˆ†æ] [å…¨é€‰] [æ¸…é™¤]                  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ â˜‘sched â˜‘freq â˜‘idle â˜disk â˜sync â”‚ â˜‘am â˜‘wm â˜‘view â˜‘gfx â˜‘input    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â˜‘binder_driver â˜‘binder_lock    â”‚ â˜‘dalvik â˜memory â˜memreclaim  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â˜hal â˜ss â˜pm â˜power â˜thermal   â”‚ â˜audio â˜video â˜camera        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â˜network â˜database â˜webview    â”‚ â˜res â˜rs â˜aidl â˜vibrator     â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ è¾“å‡ºé€‰é¡¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â˜ Enhance Trace (å¢å¼ºçº¿ç¨‹åæ˜¾ç¤ºï¼Œæ›¿æ¢ <...> ä¸ºå®é™…åç§°)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ è¾“å‡ºè·¯å¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Output: [ ./output                                       ] [Browse]   â”‚ â”‚
â”‚  â”‚  â˜ ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚                         [ â–¶ Start Capture ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Systrace è®¾å¤‡ Ftrace Tab** (åˆ‡æ¢åæ˜¾ç¤º)ï¼š

- ç‚¹å‡» [ğŸ”„ æ£€æµ‹è®¾å¤‡] ä»è®¾å¤‡è¯»å–å¯ç”¨ ftrace events
- æ”¯æŒæœç´¢è¿‡æ»¤ (å¦‚ `gpu`, `kgsl`, `mdss`)
- æŒ‰å­ç³»ç»Ÿåˆ†ç»„ (GPU/Display/Power...)

**Systrace é…ç½®å‚æ•°ï¼š**| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ ||--------|------|--------|------|| Duration | dropdown | 5s | å¯é€‰ 5s/7s/10s/30s/è‡ªå®šä¹‰ || Buffer Size | int | 10240 KB | å»ºè®® Duration Ã— 2048 || Target | dropdown | æ‰€æœ‰åº”ç”¨(*) | ç›®æ ‡åº”ç”¨é€‰æ‹© || Atrace Categories | multi-select | æœ€å°å¯ç”¨(11ä¸ª) | æ ‡å‡† atrace ç±»åˆ« || Device Ftrace | multi-select | - | è®¾å¤‡ç‰¹æœ‰ ftrace èŠ‚ç‚¹ || Enhance Trace | bool | false | å¢å¼ºçº¿ç¨‹åæ˜¾ç¤º || Output Path | path | ./output | è¾“å‡ºç›®å½• || Create Subfolder | bool | false | ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹ |**Systrace é¢„è®¾é…ç½®ï¼š**| é¢„è®¾ | Categories | æ•°é‡ ||------|------------|------|| æœ€å°å¯ç”¨ | sched, freq, idle, am, wm, view, gfx, input, dalvik, binder_driver, binder_lock | 11 || å›¾å½¢åˆ†æ | æœ€å°å¯ç”¨ + webview, res, rs | 14 || ç³»ç»Ÿåˆ†æ | æœ€å°å¯ç”¨ + hal, ss, pm, power, thermal, disk, sync, memory, memreclaim | 20 |---

### Perfetto é¢æ¿è®¾è®¡

```javascript
â”Œâ”€ Perfetto Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  â”Œâ”€ æŠ“å–æ¨¡å¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   â— Normal (å†…å­˜ç¼“å†²)              â—‹ Long (å®æ—¶å†™æ–‡ä»¶)                  â”‚ â”‚
â”‚  â”‚     é€‚åˆçŸ­æ—¶åˆ†æ (â‰¤60s)              é€‚åˆé•¿æ—¶ç›‘æ§ (åˆ†é’Ÿçº§)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ åŸºç¡€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Duration: [ 10s â–¼]                            Buffer: [ 150 â–¼] MB     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ Data Sources â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å·²å¯ç”¨: 6 â”€â”€â”€â” â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  [ æ ¸å¿ƒè¿½è¸ª ] [ æ¸²æŸ“/GPU ] [ å†…å­˜åˆ†æ ] [ ç”µæº/æ€§èƒ½ ] [ æ—¥å¿—/å…¶ä»– ]    â”‚ â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”                                                           â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ linux.ftrace                         å†…æ ¸ Ftrace è¿½è¸ª               â”‚ â”‚
â”‚  â”‚     â”Œâ”€ Atrace Categories â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å·²é€‰: 20 â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚     â”‚ é¢„è®¾: [æ€§èƒ½åˆ†æâ–¼]                                             â”‚ â”‚ â”‚
â”‚  â”‚     â”‚ â˜‘gfx â˜‘input â˜‘view â˜‘wm â˜‘am â˜‘sched â˜‘freq â˜‘idle â˜‘dalvik        â”‚ â”‚ â”‚
â”‚  â”‚     â”‚ â˜‘binder_driver â˜‘binder_lock â˜‘hal â˜webview â˜network ...      â”‚ â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚     â”Œâ”€ Ftrace Events â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å·²é€‰: 12 â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚     â”‚ â˜‘sched/sched_switch â˜‘sched/sched_wakeup â˜‘power/cpu_frequency â”‚ â”‚ â”‚
â”‚  â”‚     â”‚ â˜‘power/cpu_idle â˜‘task/task_newtask â˜‘task/task_rename ...     â”‚ â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚     Atrace Apps: [ æ‰€æœ‰åº”ç”¨ (*)                                   â–¼] â”‚ â”‚
â”‚  â”‚     Buffer: [ 24576 ]KB    Drain Period: [ 1000 ]ms                   â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â˜‘ linux.process_stats                  è¿›ç¨‹/çº¿ç¨‹çŠ¶æ€                  â”‚ â”‚
â”‚  â”‚  â˜‘ linux.sys_stats                      ç³»ç»Ÿç»Ÿè®¡ (CPU/å†…å­˜)            â”‚ â”‚
â”‚  â”‚  â˜‘ linux.system_info                    ç³»ç»ŸåŸºç¡€ä¿¡æ¯                   â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ è¾“å‡ºè·¯å¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Output: [ ./output                                       ] [Browse]   â”‚ â”‚
â”‚  â”‚  â˜ ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚                         [ â–¶ Start Capture ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Perfetto Data Sources Tab åˆ†ç»„ï¼š**| Tab | Data Sources | è¯´æ˜ ||-----|--------------|------|| æ ¸å¿ƒè¿½è¸ª | linux.ftrace, linux.process_stats, linux.sys_stats, linux.system_info | å¿…é€‰åŸºç¡€æ•°æ® || æ¸²æŸ“/GPU | android.surfaceflinger.frametimeline, android.surfaceflinger.frame, android.gpu.memory, android.gpu.work | å¸§æ¸²æŸ“åˆ†æ || å†…å­˜åˆ†æ | android.heapprofd, android.java_hprof, linux.kmem_activity | å†…å­˜ä¸“é¡¹ || ç”µæº/æ€§èƒ½ | android.power, linux.perf | ç”µæºæ€§èƒ½ || æ—¥å¿—/å…¶ä»– | android.packages_list, android.log, android.network_packets, track_event | è¾…åŠ©ä¿¡æ¯ |**Perfetto é…ç½®å‚æ•°ï¼š**| é…ç½®é¡¹ | ç±»å‹ | Normalé»˜è®¤ | Longé»˜è®¤ | è¯´æ˜ ||--------|------|------------|----------|------|| Mode | enum | Normal | - | Normal/Long || Duration | dropdown | 10s | 10min | æŠ“å–æ—¶é•¿ || Buffer | dropdown | 150MB | 150MB | ä¸»ç¼“å†²åŒº || Write Period | int | - | 2500ms | Longæ¨¡å¼å†™æ–‡ä»¶å‘¨æœŸ || Flush Period | int | - | 30000ms | Longæ¨¡å¼åˆ·æ–°å‘¨æœŸ || Data Sources | multi | 6ä¸ª | 6ä¸ª | å¯ç”¨çš„æ•°æ®æº || Output Path | path | ./output | ./output | è¾“å‡ºç›®å½• || Create Subfolder | bool | false | false | ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹ |**Long æ¨¡å¼é¢å¤–é…ç½®ï¼š**

- Write Period: å¤šä¹…å†™ä¸€æ¬¡æ–‡ä»¶ (é»˜è®¤ 2500ms)
- Flush Period: å¤šä¹…åˆ·æ–°ä¸€æ¬¡ (é»˜è®¤ 30000ms)
- è­¦å‘Šæç¤º: é•¿æ—¶é—´æŠ“å–ä¼šæŒç»­å†™å…¥è®¾å¤‡å­˜å‚¨

---

### ç»„åˆæŠ“å–é¢æ¿è®¾è®¡

```javascript
â”Œâ”€ ç»„åˆæŠ“å–é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  â”Œâ”€ é€‰æ‹©æŠ“å–å·¥å…· â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚  â”‚ â˜‘ Perfetto            â”‚  â”‚ â˜‘ Simpleperf          â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚ Mode: â—Normal â—‹Long   â”‚  â”‚ Freq: [ 1000 â–¼] Hz    â”‚                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€ ç›®æ ‡åº”ç”¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Target: [ æ‰€æœ‰åº”ç”¨ (*)                                             â–¼] â”‚ â”‚
â”‚  â”‚  â˜‘ å†·å¯åŠ¨æ¨¡å¼ (å…ˆ force-stop ç›®æ ‡åº”ç”¨)                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€ é€šç”¨é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Duration: [ 10s â–¼]                                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚                         [ â–¶ å¼€å§‹ç»„åˆæŠ“å– ]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³äºé¡µé¢è®¾è®¡

```javascript
â”Œâ”€ About EasyTracer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                        â”‚    EasyTracer   â”‚                               â”‚
â”‚                        â”‚      Logo       â”‚                               â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                          â”‚
â”‚                    EasyTracer v1.0.0                                     â”‚
â”‚                                                                          â”‚
â”‚   Android Performance Tracing Tool                                       â”‚
â”‚   ä¸€ç«™å¼ Android æ€§èƒ½è·Ÿè¸ªæŠ“å–å·¥å…·                                         â”‚
â”‚                                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                          â”‚
â”‚   åŠŸèƒ½ç‰¹æ€§ï¼š                                                              â”‚
â”‚   â€¢ Systrace / Perfetto / Simpleperf / Traceview ä¸€é”®æŠ“å–                â”‚
â”‚   â€¢ æ”¯æŒå¤šå·¥å…·ç»„åˆæŠ“å–                                                    â”‚
â”‚   â€¢ è‡ªåŠ¨ç”Ÿæˆç«ç„°å›¾                                                        â”‚
â”‚   â€¢ å†·å¯åŠ¨åˆ†ææ”¯æŒ                                                        â”‚
â”‚                                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                          â”‚
â”‚   ğŸ”— GitHub:  https://github.com/user/EasyTracer    [Open in Browser]   â”‚
â”‚   ğŸ“„ License: MIT                                                        â”‚
â”‚   ğŸ‘¤ Author:  Your Name                                                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Simpleperf é¢æ¿è®¾è®¡

```javascript
â”Œâ”€ Simpleperf Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  â”Œâ”€ åŸºç¡€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Duration: [ 5s â–¼]                         Frequency: [ 1000 â–¼] Hz     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ ç›®æ ‡è¿›ç¨‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Target: [ å½“å‰å‰å°åº”ç”¨ (Top App)                                   â–¼] â”‚ â”‚
â”‚  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚ â”‚
â”‚  â”‚          â”‚ â— å½“å‰å‰å°åº”ç”¨ (Top App)       â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚   ç³»ç»Ÿåº”ç”¨                     â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ Launcher                     â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ SystemUI                     â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ Settings                     â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚   ç³»ç»Ÿè¿›ç¨‹                     â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ system_server                â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ surfaceflinger               â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ è‡ªå®šä¹‰åŒ…å...                â”‚                            â”‚ â”‚
â”‚  â”‚          â”‚ â—‹ æŒ‡å®š PID...                  â”‚                            â”‚ â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚ â”‚
â”‚  â”‚  â˜ å†·å¯åŠ¨æ¨¡å¼ (å…ˆ force-stop ç›®æ ‡åº”ç”¨)                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ é‡‡æ ·é€‰é¡¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â˜‘ ç”Ÿæˆç«ç„°å›¾ (Flamegraph)                                             â”‚ â”‚
â”‚  â”‚  â˜‘ åŒæ—¶é‡‡é›† Off-CPU äº‹ä»¶ (åˆ†æé˜»å¡æ—¶é—´)                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ è¾“å‡ºè·¯å¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Output: [ ./output                                       ] [Browse]   â”‚ â”‚
â”‚  â”‚  â˜ ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚                         [ â–¶ Start Capture ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Simpleperf é…ç½®å‚æ•°ï¼š**

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |

|--------|------|--------|------|

| Duration | dropdown | 5s | å¯é€‰ 5s/10s/30s/60s/è‡ªå®šä¹‰ |

| Frequency | dropdown | 1000 Hz | é‡‡æ ·é¢‘ç‡ 500/1000/4000/10000 Hz |

| Target | dropdown | å½“å‰å‰å°åº”ç”¨ | ç›®æ ‡è¿›ç¨‹é€‰æ‹© |

| Cold Start | bool | false | å†·å¯åŠ¨æ¨¡å¼ |

| Generate Flamegraph | bool | true | ç”Ÿæˆç«ç„°å›¾ |

| Include Off-CPU | bool | true | é‡‡é›† Off-CPU äº‹ä»¶ |

| Output Path | path | ./output | è¾“å‡ºç›®å½• |

| Create Subfolder | bool | false | ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹ |

**Target ä¸‹æ‹‰é€‰é¡¹ï¼š**

| åˆ†ç±» | é€‰é¡¹ | åŒ…å/è¿›ç¨‹å |

|------|------|-------------|

| **å‰å°åº”ç”¨** | å½“å‰å‰å°åº”ç”¨ | è‡ªåŠ¨æ£€æµ‹ |

| **ç³»ç»Ÿåº”ç”¨** | Launcher | `com.android.launcher3` |

| | SystemUI | `com.android.systemui` |

| | Settings | `com.android.settings` |

| **ç³»ç»Ÿè¿›ç¨‹** | system_server | `system_server` |

| | surfaceflinger | `surfaceflinger` |

| **è‡ªå®šä¹‰** | è‡ªå®šä¹‰åŒ…å | ç”¨æˆ·è¾“å…¥ |

| | æŒ‡å®š PID | ç”¨æˆ·è¾“å…¥ |

**è¾“å‡ºæ–‡ä»¶ï¼š**

| æ–‡ä»¶ | è¯´æ˜ |

|------|------|

| `{device}_{pkg}_perf_{time}.data` | åŸå§‹é‡‡æ ·æ•°æ® |

| `{device}_{pkg}_Flamegraph_Thread_{time}.html` | æŒ‰çº¿ç¨‹åˆ†ç»„ç«ç„°å›¾ |

---

### Traceview é¢æ¿è®¾è®¡ (å¾…å®š)

```javascript
â”Œâ”€ Traceview Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  â”Œâ”€ åŸºç¡€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Duration: [ 5s â–¼]                         Sampling Interval: [ 1 â–¼]ms â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ æŠ“å–æ¨¡å¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   â— Sample Mode (é‡‡æ ·æ¨¡å¼)           â—‹ Trace All (å®Œæ•´è·Ÿè¸ª)            â”‚ â”‚
â”‚  â”‚     å¼€é”€ä½ï¼Œé€‚åˆé•¿æ—¶é—´æŠ“å–             å¼€é”€é«˜ï¼Œé€‚åˆç²¾ç¡®åˆ†æ              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ ç›®æ ‡è¿›ç¨‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Target: [ å½“å‰å‰å°åº”ç”¨ (Top App)                                   â–¼] â”‚ â”‚
â”‚  â”‚  â˜ å†·å¯åŠ¨æ¨¡å¼ (å…ˆ force-stop ç›®æ ‡åº”ç”¨)                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€ è¾“å‡ºè·¯å¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Output: [ ./output                                       ] [Browse]   â”‚ â”‚
â”‚  â”‚  â˜ ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚                         [ â–¶ Start Capture ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Traceview é…ç½®å‚æ•°ï¼š**

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |

|--------|------|--------|------|

| Duration | dropdown | 5s | å¯é€‰ 5s/10s/30s/è‡ªå®šä¹‰ |

| Mode | enum | Sample | Sample/Trace All |

| Sampling Interval | dropdown | 1ms | ä»… Sample æ¨¡å¼æœ‰æ•ˆ |

| Target | dropdown | å½“å‰å‰å°åº”ç”¨ | ç›®æ ‡è¿›ç¨‹é€‰æ‹© |

| Cold Start | bool | false | å†·å¯åŠ¨æ¨¡å¼ |

| Output Path | path | ./output | è¾“å‡ºç›®å½• |

| Create Subfolder | bool | false | ä¸ºæ¯æ¬¡æŠ“å–åˆ›å»ºå•ç‹¬æ–‡ä»¶å¤¹ |

---

## MVP åŠŸèƒ½èŒƒå›´ (Phase 1)

1. **è®¾å¤‡è¿æ¥** - è‡ªåŠ¨æ£€æµ‹å·²è¿æ¥çš„ Android è®¾å¤‡ï¼Œæ”¯æŒåˆ·æ–°
2. **Systrace æŠ“å–** - æ ‡å‡† Atrace Categories + è®¾å¤‡ Ftrace èŠ‚ç‚¹ï¼Œé¢„è®¾é…ç½®
3. **Perfetto æŠ“å–** - Normal/Long ä¸¤ç§æ¨¡å¼ï¼ŒUI æ„å»ºé…ç½®ï¼Œæ”¯æŒå¤šç§ Data Sources
4. **Simpleperf æŠ“å–** - ç«ç„°å›¾ç”Ÿæˆ (æŒ‰çº¿ç¨‹åˆ†ç»„)
5. **Traceview æŠ“å–** - æ–¹æ³•è·Ÿè¸ª (Sample/Trace All æ¨¡å¼)
6. **ç»„åˆæŠ“å–** - Perfetto + Simpleperf ç­‰å¤šå·¥å…·åŒæ—¶æŠ“å–
7. **å®æ—¶æ—¥å¿—** - æ˜¾ç¤ºæ“ä½œè¿›åº¦å’Œè¾“å‡º
8. **é…ç½®æŒä¹…åŒ–** - ä¿å­˜ç”¨æˆ·é…ç½®ï¼Œä¸‹æ¬¡å¯åŠ¨è‡ªåŠ¨æ¢å¤
9. **é€šç”¨è¾“å‡ºé€‰é¡¹** - Logcat/Packages/PS/Meminfo ç»Ÿä¸€é…ç½®

## å…³é”®å®ç°è¦ç‚¹

### 1. UI ä¸é€»è¾‘åˆ†ç¦»

View åªè´Ÿè´£å±•ç¤ºï¼Œé€šè¿‡ Presenter æ¥å£ä¸ä¸šåŠ¡äº¤äº’ï¼š

```python
# ui/panels/systrace_panel.py
class SystracePanel:
    def __init__(self, presenter: SystracePresenter):
        self.presenter = presenter
    
    def on_capture_click(self, e):
        self.presenter.start_capture(
            duration=self.duration_input.value,
            buffer_size=self.buffer_input.value
        )

# presenters/systrace_presenter.py  
class SystracePresenter:
    def __init__(self, capture_service: CaptureService):
        self.capture_service = capture_service
    
    async def start_capture(self, duration: int, buffer_size: int):
        # ä¸šåŠ¡é€»è¾‘åœ¨ service å±‚
        await self.capture_service.capture_systrace(...)
```

### 2. å¤–éƒ¨å·¥å…·éš”ç¦»

lib/ ç›®å½•ä½œä¸ºã€Œæ’ä»¶ã€å­˜åœ¨ï¼Œé€šè¿‡ Adapter æ¨¡å¼è°ƒç”¨ï¼š

```python
# infrastructure/systrace_adapter.py
class SystraceAdapter:
    def __init__(self, lib_path: Path):
        self.systrace_path = lib_path / "systrace" / "systrace.py"
    
    def capture(self, serial: str, duration: int, ...) -> Path:
        # è°ƒç”¨å¤–éƒ¨ systrace.py
        cmd = [sys.executable, str(self.systrace_path), ...]
        subprocess.run(cmd, ...)
```

### 3. æ‰“åŒ…é…ç½®

ä½¿ç”¨ PyInstaller **ç›®å½•æ¨¡å¼** æ‰“åŒ…ï¼Œæºç ç¼–è¯‘ä¸ºå­—èŠ‚ç  (éšè— .py æºæ–‡ä»¶)ï¼š

```python
# build.spec (PyInstaller spec)
a = Analysis(
    ['src/easytracer/main.py'],       # å…¥å£æ–‡ä»¶
    pathex=['src'],                    # æºç è·¯å¾„
datas=[
    ('lib/systrace', 'lib/systrace'),
    ('lib/simpleperf', 'lib/simpleperf'),
    ('config', 'config'),
    ],
    hiddenimports=['flet', ...],
    ...
)

# å…³é”®é…ç½®
exe = EXE(
    pyz,
    a.scripts,
    [],
    exclude_binaries=True,             # ç›®å½•æ¨¡å¼
    name='EasyTracer',
    ...
)

coll = COLLECT(
    exe,
    a.binaries,
    a.zipfiles,
    a.datas,
    strip=False,
    name='EasyTracer',
)
```

**æ‰“åŒ…è¾“å‡ºç»“æ„ï¼š**

```
dist/EasyTracer/
â”œâ”€â”€ EasyTracer.exe            # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ _internal/                # PyInstaller è¿è¡Œæ—¶ + ç¼–è¯‘åçš„å­—èŠ‚ç  (.pyc)
â”‚   â”œâ”€â”€ easytracer/          # åº”ç”¨ä»£ç  (å·²ç¼–è¯‘ï¼Œæ—  .py æºæ–‡ä»¶)
â”‚   â”œâ”€â”€ flet/                # ä¾èµ–åº“
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                      # å¤–éƒ¨å·¥å…· (åŸæ ·ä¿ç•™ï¼Œå¯ç‹¬ç«‹æ›´æ–°)
â”‚   â”œâ”€â”€ systrace/
â”‚   â”œâ”€â”€ simpleperf/
â”‚   â””â”€â”€ perfetto/
â””â”€â”€ config/                   # é…ç½®æ–‡ä»¶
```

**æºç ä¿æŠ¤è¯´æ˜ï¼š**

- PyInstaller é»˜è®¤å°† `.py` ç¼–è¯‘ä¸º `.pyc` å­—èŠ‚ç æ‰“åŒ…
- `src/easytracer/` ä¸‹çš„æºç ä¸ä¼šä»¥æ˜æ–‡å½¢å¼å‡ºç°åœ¨ dist ç›®å½•
- `lib/` å¤–éƒ¨å·¥å…·ä¿æŒåŸæ ·ï¼Œæ–¹ä¾¿ç”¨æˆ·ç‹¬ç«‹æ›´æ–°

## è¿ç§»ç­–ç•¥